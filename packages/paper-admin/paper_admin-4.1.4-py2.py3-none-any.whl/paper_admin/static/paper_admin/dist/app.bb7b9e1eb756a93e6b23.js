(self.webpackChunkpaper_admin=self.webpackChunkpaper_admin||[]).push([[2143],{5869:function(){const e=parseFloat(getComputedStyle(document.documentElement).fontSize),t=function(){const t=document.querySelector(".paper-header"),n=document.querySelectorAll(".paper-toolbar.sticky-top");t&&n.length&&n.forEach((n=>{n.style.top=t.offsetHeight+e+"px"}))};window.addEventListener("resize",t),t()},8190:function(){document.addEventListener("click",(function(e){e.target.closest(".back-button")&&(e.preventDefault(),window.history.back())}))},1976:function(e,t,n){"use strict";n.d(t,{Gn:function(){return s.Z},fK:function(){return o}});var s=n(8527);n(7908);const o={az:"d.m.Y",bn:"d/m/Y",ca:"d/m/Y",cs:"d.m.Y",cy:"d/m/Y",da:"d.m.Y",de:"d.m.Y",el:"d/m/Y",en_au:"d/m/Y",en_gb:"d/m/Y",es:"d/m/Y",fi:"d.m.Y",fr:"d/m/Y",hu:"Y.m.d.",id:"d-m-y",it:"d/m/Y",mk:"d.m.Y",nl:"d-m-Y",pl:"d.m.Y",pt_br:"d/m/Y",ro:"d.m.Y",ru:"d.m.Y",sk:"d.m.Y",sl:"d.m.Y",sr:"d.m.Y",th:"d/m/Y",tr:"d/m/Y",uk:"d.m.Y",zh_hans:"Y/m/d",zh_hant:"Y/m/d"}},4027:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var s=n(5932);n(454),n(2816);class o extends s.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){const t=Object.assign({},this.opts);if(t.allowClear&&void 0===t.placeholder){const n=e.querySelector('option[value=""]');t.placeholder=n?n.textContent:""}$(e).select2(t),$(e).on("select2:select select2:clear",(function(){const t=new CustomEvent("change",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)})),$(e).on("select2:open",(function(){const e=$(this).data("select2").$dropdown.get(0).querySelector(".select2-search__field");e&&e.focus()}))}_destroy(e){$(e).select2("destroy")}}},2816:function(){$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype.render;e.prototype.render=function(){const e=this,n=t.apply(this,arguments),s=this.options.get("containerCssClass");return s&&s.split(/\s+/).map((function(t){t&&e.$container[0].classList.add(t)})),n}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.showLoading,n=e.prototype.hideLoading;e.prototype.hideMessages=function(){},e.prototype.hideLoading=function(){n.apply(this,arguments);const e=this.$results.find(".select2-results__option");e.each((function(e,t){"1"===t.dataset._stateSelectable&&t.classList.add("select2-results__option--selectable");"1"===t.dataset._stateDisabled||(t.classList.remove("select2-results__option--disabled"),t.removeAttribute("aria-disabled"))}))},e.prototype.showLoading=function(){this.hideLoading();const e=this.$results.find(".select2-results__option");e.length?e.each((function(e,t){const n=t.classList.contains("select2-results__option--selectable"),s=t.classList.contains("select2-results__option--disabled");t.dataset._stateSelectable=n?"1":"0",t.dataset._stateDisabled=s?"1":"0",t.classList.remove("select2-results__option--selectable"),t.classList.add("select2-results__option--disabled"),t.setAttribute("aria-disabled",!0)})):t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype._registerEvents;e.prototype._registerEvents=function(){const e=this;t.apply(this,arguments),this.listeners.query.pop(),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(n){e.trigger("results:all",{data:n,query:t,searching:!0})}))}))}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.bind;e.prototype.bind=function(e,n){const s=this;t.apply(this,arguments),e.listeners["results:all"].pop(),e.on("results:all",(function(t){if(s.clear(),s.append(t.data),e.isOpen())if(s.setClasses(),t.searching){this.$results.find(".select2-results__option--selectable").first().trigger("mouseenter")}else s.highlightFirstItem()}))}}),null,!0),$.fn.select2.amd.require(["select2/selection/search"],(function(e){const t=e.prototype.searchRemoveChoice;e.prototype.searchRemoveChoice=function(){t.apply(this,arguments),this.options.get("tags")||this.$search.val("")}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,n){"mousedown"===n.type&&0!==n.button||t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,n){const s=this.trigger;this.trigger=function(e,t){"toggle"!==e&&s.call(this,e,t)},t.apply(this,arguments),this.trigger=s}}),null,!0),$.fn.select2.amd.require(["select2/data/ajax"],(function(e){const t=e.prototype.query,n={size:10};function s(e){let t=null,n=null;Object.entries(e).forEach((function([e,s]){(null===n||s.timestamp<n)&&(t=e,n=s.timestamp)})),null!==t&&delete e[t]}e.prototype.query=function(e,o){const i=this;let r=this.options.get("ajaxCache");if("object"==typeof r&&null!==r)r=$.extend({},n,r);else{if(!r)return void t.apply(this,arguments);r=n}void 0===this.__cache&&(this.__cache={});const a=(e.term||"_ALL_")+":"+(e.page||-1).toString();if(void 0!==this.__cache[a]){const e=this.__cache[a];e.timestamp=Date.now(),o(e.data)}else t.call(this,e,(function(e){Object.keys(i.__cache).length>=r.size&&s(i.__cache),i.__cache[a]={data:e,timestamp:Date.now()},o(e)}))}}),null,!0)},8542:function(e,t,n){"use strict";n.r(t),n.d(t,{paperAdmin:function(){return ve}});var s=n(3734),o=n(1474),i=n(2209);function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function l(e){let t=[];for(let n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];return t}function c(e,t){const n=e.createReader(),s=e=>__guardMethod__(console,"log",(t=>t.log(e)));return new Promise((e=>{const o=[],i=()=>{n.readEntries((n=>{n.length>0?(o.push(Promise.all(n.map((e=>e.isFile?new Promise((n=>{e.file((e=>{"."!==e.name.substring(0,1)&&(e.fullPath=`${t}/${e.name}`,n([e]))}))})):e.isDirectory?c(e,`${t}/${e.name}`):void 0))).then((e=>e.reduce(((e,t)=>e.concat(t)),[])))),i()):e(Promise.all(o).then((e=>e.reduce(((e,t)=>e.concat(t)),[]))))}),s)};i()}))}var d={containsFiles:function(e){if(e.dataTransfer&&e.dataTransfer.types)for(let t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1},filterFiles:l,parseDroppedFiles:function(e){return new Promise((t=>{let n=l(e);if(n.length){let s=e.dataTransfer.items;s&&s.length&&null!=s[0].webkitGetAsEntry?function(e){return new Promise((t=>{const n=[],s=[];for(var o,i=r(e);!(o=i()).done;){let e,t=o.value;null!=t.webkitGetAsEntry&&(e=t.webkitGetAsEntry())?e.isFile?n.push(t.getAsFile()):e.isDirectory&&s.push(c(e,e.name)):null!=t.getAsFile&&(null!=t.kind&&"file"!==t.kind||n.push(t.getAsFile()))}Promise.all(s).then((e=>{for(var s,o=r(e);!(s=o()).done;){let e=s.value;n.push(...e)}t(n)}))}))}(s).then((e=>{t(e)})):t(n)}}))}},u=n(4827),p=n(5932);class h extends p.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).dropdown(this.opts)}}class f extends p.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).popover(this.opts)}_destroy(e){$(e).popover("hide")}}class m extends p.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).tooltip(this.opts).filter('[data-trigger="hover"]').on("click",(function(){$(this).tooltip("hide")}))}_destroy(e){$(e).tooltip("hide")}}class g extends p.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).collapse(this.opts)}}const _=new h;_.observe(".dropdown-toggle"),_.initAll(".dropdown-toggle");const y=new f({delay:{show:600,hide:100}});y.observe('[data-toggle="popover"]'),y.initAll('[data-toggle="popover"]');const b=new g({toggle:!1});b.observe(".collapse"),b.initAll(".collapse");const v=new m({delay:{show:600,hide:100}});v.observe('[data-toggle="tooltip"]'),v.initAll('[data-toggle="tooltip"]');const w="on-drag-file";let E=0;document.addEventListener("dragenter",(e=>{E++,d.containsFiles(e)&&(e.preventDefault(),document.documentElement.classList.add(w))}),!0),document.addEventListener("dragleave",(()=>{0==--E&&document.documentElement.classList.remove(w)}),!0),document.addEventListener("drop",(()=>{E=0,document.documentElement.classList.remove(w)}),!0);n(8190);var L=n(1976),S=n(648),C=n.n(S);const k=[{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","Ÿ":"Y","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y"},{"©":"(c)"},{"α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y"},{"ş":"s","Ş":"S","ı":"i","İ":"I","ç":"c","Ç":"C","ü":"u","Ü":"U","ö":"o","Ö":"O","ğ":"g","Ğ":"G"},{"ă":"a","î":"i","ș":"s","ț":"t","â":"a","Ă":"A","Î":"I","Ș":"S","Ț":"T","Â":"A"},{"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya"},{"Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g"},{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},{"á":"a","ä":"a","č":"c","ď":"d","é":"e","í":"i","ľ":"l","ĺ":"l","ň":"n","ó":"o","ô":"o","ŕ":"r","š":"s","ť":"t","ú":"u","ý":"y","ž":"z","Á":"a","Ä":"A","Č":"C","Ď":"D","É":"E","Í":"I","Ľ":"L","Ĺ":"L","Ň":"N","Ó":"O","Ô":"O","Ŕ":"R","Š":"S","Ť":"T","Ú":"U","Ý":"Y","Ž":"Z"},{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"I","Ķ":"K","Ļ":"L","Ņ":"N","Š":"S","Ū":"U","Ž":"Z"},{"أ":"a","ب":"b","ت":"t","ث":"th","ج":"g","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"th","ع":"aa","غ":"gh","ف":"f","ق":"k","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"o","ي":"y"},{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U","Ž":"Z"},{"ђ":"dj","ј":"j","љ":"lj","њ":"nj","ћ":"c","џ":"dz","đ":"dj","Ђ":"Dj","Ј":"j","Љ":"Lj","Њ":"Nj","Ћ":"C","Џ":"Dz","Đ":"Dj"},{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},{"ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"j","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"q","ღ":"g","ყ":"y","შ":"sh","ჩ":"ch","ც":"c","ძ":"dz","წ":"w","ჭ":"ch","ხ":"x","ჯ":"j","ჰ":"h"}],A={Initialize:function(){if(!A.map){A.map={},A.chars=[];for(let e=0;e<k.length;e++){const t=k[e];for(let e in t)t.hasOwnProperty(e)&&(A.map[e]=t[e])}for(let e in A.map)A.map.hasOwnProperty(e)&&A.chars.push(e);A.regex=new RegExp(A.chars.join("|"),"g")}}};function x(e,t,n){var s;n||(s=e,A.Initialize(),e=s.replace(A.regex,(function(e){return A.map[e]})));if(!/[^\u0000-\u007f]/.test(e)){const t=new RegExp("\\b("+["a","an","as","at","before","but","by","for","from","is","in","into","like","of","off","on","onto","per","since","than","the","this","that","to","up","via","with"].join("|")+")\\b","gi");e=e.replace(t,"")}return(e=(e=(e=(e=(e=n?C().replace(e,C()("[^-_\\p{L}\\p{N}\\s]","g"),""):e.replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"-")).substring(0,t)).replace(/-+$/g,"")).toLowerCase()}function j(e=document.body){e.querySelectorAll(".prepopulated-field").forEach((function(e){let t;const n=e.closest(".paper-formset");if(n){const e=n.dataset.formsetPrefix;t=window.django_prepopulated_fields[e]}else t=window.django_prepopulated_fields[""];if(!t)return;const s=e.dataset.prepopulateFieldName,o=t[s];if(!o)return;const i=e.querySelector("[name$="+s+"]");if(!i)return;const r=o.dependencies.map((function(e){const t=i.name.replace(new RegExp(s+"$"),e);return document.querySelector("[name="+t+"]")})).filter(Boolean);if(!r.length)return;const a=function(){if("1"===i.dataset._changed)return;const e=r.map((function(e){return e.value})).filter(Boolean);i.value=x(e.join(" "),o.maxLength,o.allowUnicode)},l=function(){i.value?i.dataset._changed="1":i.dataset._changed="0"};i.addEventListener("change",l),l(),r.forEach((function(e){e.addEventListener("keyup",a),e.addEventListener("change",a),e.addEventListener("focus",a)}))}))}function q(e,t,n){const s=e.id.replace(t,"");let o=e.href;n&&(-1===o.indexOf("?")?o+="?_popup=1":o+="&_popup=1");const i=void 0!==window.screenX?window.screenX:window.screenLeft,r=void 0!==window.screenY?window.screenY:window.screenTop,a=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,l=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight,c=Math.max(940,.7*a),d=Math.max(600,.7*l),u=r+Math.round((l-d)/2),p=i+Math.round((a-c)/2);return window.open(o,s,"width="+c+",height="+d+",top="+u+",left="+p+",resizable=yes,scrollbars=yes").focus(),!1}function O(e){return q(e,/^lookup_/,!0)}j(),i.Z.inlines.on("added",(function(e,t){j(e)})),document.addEventListener("click",(function(e){const t=e.target.closest(".related-lookup");if(t){e.preventDefault();const n=$.Event("django:lookup-related");$(t).trigger(n),n.isDefaultPrevented()||O(t)}const n=e.target.closest("a[data-popup-opener]");n&&(e.preventDefault(),opener.dismissRelatedLookupPopup(window,n.dataset.popupOpener))})),window.showRelatedObjectLookupPopup=O,window.dismissRelatedLookupPopup=function(e,t){const n=e.name,s=document.getElementById(n);s.classList.contains("vManyToManyRawIdAdminField")&&s.value?s.value+=","+t:document.getElementById(n).value=t,e.close()};n(4027);document.addEventListener("change",(function(e){const t=e.target.closest(".clearable-file-field");if(t&&"file"===e.target.type){const n=e.target.value.split("\\").pop(),s=t.querySelector(".clearable-file-field__button span");s&&(s.textContent=n||s.dataset.initialText)}}));var T=n(6410);class P extends p.Z{constructor(e){super(),this.opts=Object.assign({altInput:!0,locale:this._getLocale(),dateFormat:this._getDateFormat()},e),document.addEventListener("click",(function(e){const t=e.target.closest(".date-field__button");if(t){const e=t.closest(".date-field"),n=e&&e.querySelector("input");n&&n._flatpickr&&n._flatpickr.setDate("today")}}))}_init(e){(0,L.Gn)(e,this.opts)}_destroy(e){e._flatpickr&&e._flatpickr.destroy()}_getLocale(){for(const e of(0,T.Z)())if(L.Gn.l10ns[e])return e;return"default"}_getDateFormat(){for(const e of(0,T.Z)())if(L.fK[e])return L.fK[e];return"Y-m-d"}}const Y=new P;function D(e){const t=e.target.closest(".email-field");if(t){const e=t.querySelector("input"),n=t.querySelector(".email-field__link");if(n){const t=e.value.trim();/(.+)@(.+){2,}\.(.+){2,}/.test(t)?n.href="mailto:"+t:n.removeAttribute("href")}}}Y.observe(".date-field input"),Y.initAll(".date-field input"),document.addEventListener("input",D),document.addEventListener("change",D);var Z=n(3216);function I(e,t){const n=e&&e.querySelectorAll(".view-related, .change-related, .delete-related");n&&n.length&&(t?n.forEach((function(e){e.classList.remove("disabled"),e.href=e.dataset.hrefTemplate.replace("__fk__",t)})):n.forEach((function(e){e.classList.add("disabled"),e.href=""})))}function z(e){return q(e,/^(change|add|delete)_/,!1)}function F(e,t,n){const s=e.name,o=document.getElementById(s);o&&"SELECT"===o.tagName&&(o.options[o.options.length]=new Option(n,t,!0,!0),o.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))),e.close()}n.n(Z)().init('.file-field input[type="file"]'),document.addEventListener("change",(function(e){const t=e.target.closest(".file-field");if(t&&"file"===e.target.type){const n=e.target.value.split("\\").pop(),s=t.querySelector(".file-field__field");s&&(n?(s.textContent=n,s.classList.remove("file-field__field--empty")):(s.textContent=s.dataset.initialText,s.classList.add("file-field__field--empty")))}})),document.addEventListener("click",(function(e){const t=e.target.closest(".password-field__button");if(t){const e=t.closest(".password-field");if(e){const t=e.querySelector("input"),n=["text","password"];if(t){const s=(n.indexOf(t.type)+1)%2;t.type=n[s];const o=e.querySelector("i.fa"),i=["fa-eye-slash","fa-eye"];o&&(o.classList.add(i[s]),o.classList.remove(i[(s+1)%2]))}}}})),document.addEventListener("change",(function(e){const t=e.target.closest(".related-widget-wrapper"),n=t&&t.querySelector("select");if(n){const e=$.Event("django:update-related");$(n).trigger(e),e.isDefaultPrevented()||I(t,n.value)}})),document.querySelectorAll(".related-widget-wrapper").forEach((function(e){const t=e.querySelector("select");t&&I(e,t.value)})),window.updateRelatedObjectLinks=function(e){I(e.closest(".related-widget-wrapper"),e.value)},document.addEventListener("click",(function(e){const t=e.target.closest(".related-widget-wrapper__link");if(t&&(e.preventDefault(),t.href)){const e=$.Event("django:show-related",{href:t.href});$(t).trigger(e),e.isDefaultPrevented()||z(t)}})),window.showRelatedObjectPopup=z,window.dismissAddRelatedObjectPopup=F,window.dismissChangeRelatedObjectPopup=function(e,t,n,s){const o=e.name,i=document.getElementById(o);i&&"SELECT"===i.tagName&&Array.from(i.options).forEach((function(e){e.value===t&&(e.textContent=n,e.value=s)}));const r=i.nextElementSibling.querySelector(".select2-selection__rendered");r&&(r.lastChild.textContent=n,r.title=n),e.close()},window.dismissDeleteRelatedObjectPopup=function(e,t){const n=e.name,s=document.getElementById(n);s&&"SELECT"===s.tagName&&(Array.from(s.options).forEach((function(e){e.value===t&&e.remove()})),s.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))),e.close()},window.showAddAnotherPopup=z,window.dismissAddAnotherPopup=F;var M=n(8880);class B extends p.Z{_init(e){(0,M.Z)(e,{hide_empty_groups:!0})}_destroy(e){}}const H=new B;H.observe(".select-multiple-field select"),H.initAll(".select-multiple-field select");var N=n(3682);class R extends p.Z{_init(e){(0,N.Z)(e)}_destroy(e){}}$(document).on("shown.bs.tab",(function(e){const t=e.target.getAttribute("href"),n=t&&document.querySelector(t);n&&N.Z.update(n.querySelectorAll(".text-field textarea"))}));const U=new R;U.observe(".text-field textarea"),U.initAll(".text-field textarea");n(5365);class W extends p.Z{constructor(){super(),document.addEventListener("click",(function(e){const t=e.target.closest(".time-field__button");if(t){const e=t.closest(".time-field"),n=e&&e.querySelector("input");if(n){const e=new Date;n.value=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}}}))}_init(e){$(e).clockpicker({default:"now",autoclose:!0})}_destroy(e){$(e).clockpicker("remove")}}const G=new W;G.observe(".time-field input"),G.initAll(".time-field input");n(1886);document.addEventListener("dragenter",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.add("paper-dropzone__overlay--highlighted")}}),!0),document.addEventListener("dragleave",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.remove("paper-dropzone__overlay--highlighted")}}),!0),document.querySelectorAll(".paper-form--hook").forEach((e=>{!function(e){let t=!1,n=!1;e.addEventListener("submit",(function(){t=!0}));const s=gettext("You have unsaved changes");function o(){function t(s){e.removeEventListener("input",t),e.removeEventListener("change",t);const o=s.target,i=o.closest(".paper-widget");null===o.closest('[data-hook-unload="prevent"]')&&i&&e.contains(i)&&(n=!0)}window.removeEventListener("load",o),document.removeEventListener("keydown",o),document.removeEventListener("mousedown",o),e.addEventListener("input",t),e.addEventListener("change",t)}window.addEventListener("beforeunload",(function(e){if(!t&&n)return e.preventDefault(),e.returnValue=s,s})),window.addEventListener("load",o),document.addEventListener("keydown",o),document.addEventListener("mousedown",o)}(e)}));var K=n(9392),V=n.n(K),X=n(2696),J=n(980);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q.apply(this,arguments)}const ee="hidden.bs.modal",te="shown.bs.modal",ne="click.destroy..bs.modal",se="keydown.dismiss.bs.modal",oe="autofocus.bs.modal",ie="modal-suspended",re="fade",ae="show",le=[],ce={title:"",body:"",modalClass:"fade",modalDialogClass:"",backdropClass:"paper-modal-backdrop",closeButton:!0,buttons:[],templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n              <div class="modal-dialog">\n                <div class="modal-content">\n                  <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                  </div>\n                  <div class="modal-body"></div>\n                  <div class="modal-footer"></div>\n                </div>\n              </div>\n            </div>',closeButton:'<button type="button" class="close" aria-label="Close">\n              <span aria-hidden="true">&times;</span>  \n            </button>',button:'<button type="button" class="btn"></button>'},options:{backdrop:"static"},onInit:null,onDestroy:null,onClose:function(){this.destroy()}};class de extends X.Z{constructor(e){let t=Q({},ce,e);t.templates=Q({},ce.templates,e.templates||{}),document.body.insertAdjacentHTML("beforeend",t.templates.modal);super(document.body.lastElementChild,t.options),this.config=t,this._content=this._element.querySelector(".modal-content"),this._header=this._element.querySelector(".modal-header"),this._body=this._element.querySelector(".modal-body"),this._footer=this._element.querySelector(".modal-footer"),this.init(),"function"==typeof this.config.onInit&&this.config.onInit.call(this)}static getClosestModal(){return le[le.length-1]||null}get suspended(){return this._element.classList.contains(ie)}set suspended(e){return this._element.classList.toggle(ie,Boolean(e))}init(){if(this.config.modalClass&&this._element.classList.add.apply(this._element.classList,this.config.modalClass.trim().split(/\s+/)),this.config.modalDialogClass&&this._dialog.classList.add.apply(this._dialog.classList,this.config.modalDialogClass.trim().split(/\s+/)),this.config.title&&(this._element.querySelector(".modal-title").innerText=this.config.title),this.config.body&&(this._body.innerHTML=this.config.body),this.config.closeButton){this._header.insertAdjacentHTML("beforeend",this.config.templates.closeButton);const e=this._header.querySelector(".close");e&&e.addEventListener("click",(()=>{"function"==typeof this.config.onClose&&this.config.onClose.call(this)}))}this.config.buttons&&this.config.buttons.length&&this.config.buttons.forEach((e=>{let t;this._footer?(this._footer.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._footer.lastElementChild):(this._body.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._body.lastElementChild),e.label&&(t.innerText=e.label),e.buttonClass&&t.classList.add.apply(t.classList,e.buttonClass.trim().split(/\s+/)),e.autofocus&&$(this._element).one(oe,(()=>{t.focus()})),e.onClick&&"function"==typeof e.onClick&&t.addEventListener("click",(n=>{e.onClick.call(t,n,this)}))}))}dispose(){super.dispose(),this._content=null,this._header=null,this._body=null,this._footer=null}destroy(){const e=function(){"function"==typeof this.config.onDestroy&&this.config.onDestroy.call(this);const e=le.indexOf(this);e>=0&&le.splice(e,1),this._element&&this._element.remove(),this._removeBackdrop(),this.dispose()}.bind(this);return this._isShown?this._isTransitioning?new Promise((t=>{$(this._element).one(te,(()=>{this._isShown?this.hide().then((()=>{e(),t()})):(e(),t())}))})):new Promise((t=>{this.hide().then((()=>{e(),t()}))})):this._isTransitioning?new Promise((t=>{$(this._element).one(ee,(()=>{e(),t()}))})):(e(),Promise.resolve())}_showBackdrop(e){super._showBackdrop(e),this._isShown&&this._backdrop&&this.config.backdropClass&&this._backdrop.classList.add.apply(this._backdrop.classList,this.config.backdropClass.trim().split(/\s+/))}_setEscapeEvent(){this._isShown?$(this._element).on(se,(e=>{27===e.which&&(this._config.keyboard?(e.preventDefault(),"function"==typeof this.config.onClose&&this.config.onClose.call(this)):this._triggerBackdropTransition())})):$(this._element).off(se)}_suspend(e){if(e&&e.preventDefault(),$(this._element).trigger("hide.bs.modal"),this._isShown=!1,this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._element.classList.remove(ae),this._backdrop){const e=this._backdrop.classList.contains(re);this._backdrop.classList.remove(re,ae),e&&setTimeout((()=>{this._backdrop.classList.add(re)})),$(this._backdrop).off("bsTransitionEnd")}this.suspended=!0,$(this._element).trigger(ee)}_resume(){if(this.suspended){if($(this._element).trigger("show.bs.modal"),this._isShown=!0,this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._isTransitioning=!1,this._element.classList.add(ae),$(this._element).trigger(te),this._backdrop){const e=this._backdrop.classList.contains(re);this._backdrop.classList.remove(re),this._backdrop.classList.add(ae),e&&setTimeout((()=>{this._backdrop.classList.add(re)}))}this.suspended=!1}}show(e){if(this._isShown)return Promise.reject("Modal is already open");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).on(ne,'[data-destroy="modal"]',(()=>{this.destroy()}));const t=le.indexOf(this);t>=0&&le.splice(t,1);let n=!1;le.forEach((e=>{e._isShown&&!e.suspended&&(e._suspend(),n=!0)})),le.push(this);const s=super.show.bind(this);if(n){const t=this._element.classList.contains(re);return this._element.classList.remove(re),super.show(e),t&&this._element.classList.add(re),Promise.resolve()}return new Promise((t=>{$(this._element).one(te,(()=>t())),s(e)}))}hide(e){if(e&&e.preventDefault(),!this._isShown)return Promise.reject("Modal is already closed");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).off(ne);const t=le.indexOf(this);t>=0&&le.splice(t,1);const n=super.hide.bind(this);if(t===le.length&&t>0){const t=le[le.length-1];return t.suspended?(this._removeBackdrop(),this._suspend(e),t._resume(),Promise.resolve()):new Promise((t=>{$(this._element).one(ee,(()=>t())),n(e)}))}return new Promise((t=>{$(this._element).one(ee,(()=>t())),n(e)}))}_showElement(e){const t=$(this._element).hasClass(re),n=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),$(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,t&&J.Z.reflow(this._element),$(this._element).addClass(ae),this._config.focus&&this._enforceFocus();const s=$.Event(te,{relatedTarget:e});$(this._element).trigger($.Event(oe));const o=()=>{this._config.focus&&document.activeElement&&!this._element.contains(document.activeElement)&&this._element.focus(),this._isTransitioning=!1,$(this._element).trigger(s)};if(t){const e=J.Z.getTransitionDurationFromElement(this._dialog);$(this._dialog).one(J.Z.TRANSITION_END,o).emulateTransitionEnd(e)}else o()}}function ue(e){return new de(e)}function pe(e){const t=Q({},{body:'<div class="paper-preloader">\n                  <div class="paper-preloader__text">Loading</div>\n                </div>',modalClass:"paper-modal--preloader fade-in",modalDialogClass:"modal-sm",closeButton:!1,templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n                      <div class="modal-dialog">\n                        <div class="modal-content">\n                          <div class="modal-body"></div>\n                        </div>\n                      </div>\n                    </div>'},onClose:null},e),n=new de(t);return n.show(),n}const he={createModal:ue,showErrors:function(e,t){let n,s=gettext("Error");if(Array.isArray(e))if(1===e.length)n=e[0];else{s=gettext("Please correct the following errors");const t=['<ul class="px-4 mb-0">'];for(let n=0,s=e.length;n<s;n++)t.push(`<li>${e[n]}</li>`);t.push("</ul>"),n=t.join("\n")}else n=e;const o=ue(Object.assign({modalClass:"paper-modal--danger fade",title:s,body:n,buttons:[{autofocus:!0,label:gettext("OK"),buttonClass:"btn-success",onClick:function(e,t){t.destroy()}}]},t));return o.show(),o},showPreloader:pe,showSmartPreloader:function(e,t){const n=Symbol("waiting");return Promise.race([e,new Promise((e=>{setTimeout((()=>{e(n)}),200)}))]).then((s=>{if(s!==n)return s;const o=pe(t);return V()([e,new Promise((e=>{setTimeout((()=>{e()}),600)}))]).then((e=>{o.destroy();const t=e[0];if("fulfilled"===t.status)return t.value;throw t.reason instanceof Error?t.reason:new Error(t.reason)}))}))}};var fe=he;class me extends p.Z{constructor(e){super(),this.opts=Object.assign({openClass:"sidebar-open",shadowClass:"sidebar-shadow",triggerSelector:"[data-toggle='sidebar']"},e),document.addEventListener("click",(e=>{e.target.closest(this.opts.triggerSelector)&&(e.preventDefault(),this.toggle())}))}get hidden(){return!document.documentElement.classList.contains(this.opts.openClass)}show(){if(!this.hidden)return;let e=document.body.querySelector(`.${this.opts.shadowClass}`);e||(e=document.createElement("div"),e.classList.add(this.opts.shadowClass),e.dataset.toggle="sidebar",document.body.appendChild(e)),setTimeout((()=>{document.documentElement.classList.add(this.opts.openClass)}),0)}hide(){this.hidden||document.documentElement.classList.remove(this.opts.openClass)}toggle(){this.hidden?this.show():this.hide()}}const ge=new me;ge.observe(".paper-sidebar"),ge.initAll(".paper-sidebar"),$(document).on("show.bs.collapse",".paper-sidebar",(e=>{const t=e.target,n=t&&t.closest(".paper-sidebar__item"),s=n&&n.querySelector(":scope > a > .paper-icon-default");s&&(s.classList.remove("fa-folder-o"),s.classList.add("fa-folder-open-o"))})).on("hide.bs.collapse",".paper-sidebar",(e=>{const t=e.target,n=t&&t.closest(".paper-sidebar__item"),s=n&&n.querySelector(":scope > a > .paper-icon-default");s&&(s.classList.remove("fa-folder-open-o"),s.classList.add("fa-folder-o"))}));var _e=n(6358),ye=n(9127);_e.p8.registerPlugin(ye.L);const be=document.querySelector(".paper-widget--invalid, .paper-message--error");if(be)!function(e){const t=e.getBoundingClientRect().top,n=.3*document.documentElement.clientHeight;t>n&&t<document.documentElement.clientHeight-n||setTimeout((()=>{_e.p8.to(window,{duration:.5,scrollTo:{y:t-Math.floor(33*document.documentElement.clientHeight/100)}})}))}(be);else{const e=location.hash.substr(1).replace(/-panel$/i,"-tab");e&&function(e){const t=document.querySelector(`#${e}`);t&&$(t).tab("show")}(e)}$(document).on("shown.bs.tab",(e=>{const t=e.target.getAttribute("aria-controls");if(t){history.replaceState(null,"",`#${t}`);const n=e.target.closest(".paper-form");if(n){const e=new URL(n.action);e.hash=t,n.action=e.toString()}}}));n(5869),n.p;document.body.classList.contains("change-list")&&Promise.all([n.e(6075),n.e(9434)]).then(n.bind(n,423)),document.body.classList.contains("change-form")&&Promise.all([n.e(6075),n.e(9010)]).then(n.bind(n,3422)),-1!==window.location.search.indexOf("&_popup=1")&&n.e(7042).then(n.t.bind(n,2284,23)),window.django=window.django||{},window.django.jQuery=jQuery;const ve={bootstrap:s,emitters:i.Z,dragUtils:d,formUtils:u.Z,modals:fe,Sortable:o.ZP,Widget:p.Z}},2209:function(e,t,n){"use strict";var s=n(4795),o=n.n(s);const i={dom:new(o()),inlines:new(o())};t.Z=i},4827:function(e,t){"use strict";function n(e){switch(e.type){case"checkbox":case"radio":return e.defaultChecked!==e.checked;case"button":case"image":case"reset":case"submit":return!1;case"select-one":case"select-multiple":return Array.from(e.options).some((function(e){return e.selected!==e.defaultSelected}));default:return e.defaultValue!==e.value}}function s(e,t){if(!e.classList.contains(".paper-widget")&&!(e=e.closest(".paper-widget")))throw new Error("widget not found");const n=e.nextElementSibling;if(!n||!n.classList.contains("paper-error-list"))throw new Error("error list not found");for(;n.firstChild;)n.removeChild(n.lastChild);if("string"==typeof t&&(t=[t]),t&&t.length){e.classList.add("paper-widget--invalid"),t.forEach((function(e){const t=document.createElement("li");t.innerText=e,n.append(t)}));const s=e.closest(".paper-form__row");s&&s.classList.add("paper-form__row--invalid");const o=e.closest(".tab-pane");if(o){const e=o.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.add("btn-outline-danger"),t.classList.remove("btn-outline-primary"))}}else{e.classList.remove("paper-widget--invalid");const t=e.closest(".paper-form__row");t&&t.classList.remove("paper-form__row--invalid");const n=e.closest(".tab-pane");if(n&&!n.querySelectorAll(".paper-widget--invalid").length){const e=n.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.remove("btn-outline-danger"),t.classList.add("btn-outline-primary"))}}}function o(e,t){const n=e.querySelector(".paper-messages");if(!n)throw new Error("error list not found");for(;n.firstChild;)n.removeChild(n.lastChild);"string"==typeof t&&(t=[t]),t&&t.length&&t.forEach((function(e){const t=document.createElement("li");t.classList.add("paper-message","paper-message--error"),t.innerText=e,n.append(t)}))}const i={isChangedField:n,containsChangedField:function(e){const t=e.querySelectorAll("input, select, textarea");return Array.from(t).some(n)},setWidgetErrors:s,setFormErrors:o,cleanAllErrors:function(e=document.body){o(e,[]),e.querySelectorAll(".paper-widget").forEach((function(e){s(e,[])}))},setErrorsFromJSON:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){const t=i[n],r=t[0],a=t[1];if("__all__"===r)o(e,a.map((e=>e.message)));else{const t=e.querySelector(".field-"+r),n=t&&t.querySelector(".paper-widget");n&&s(n,a.map((e=>e.message)))}}}};t.Z=i},6410:function(e,t,n){"use strict";function s(){const e=[];let t=document.documentElement.lang;return t&&(t=t.toLowerCase(),e.push(t),-1!==t.indexOf("-")&&(t=t.replace("-","_"),e.push(t)),-1!==t.indexOf("_")&&(t=t.replace(/_.*$/,""),e.push(t))),e.push("en"),e}n.d(t,{Z:function(){return s}})},5932:function(e,t,n){"use strict";var s=n(2209);t.Z=class{constructor(){this._event_handlers={}}addEventHandler(e,t,n){let s;if("function"==typeof t?(n=t,s=e):s=`${e}(${t})`,void 0!==this._event_handlers[s])throw new Error(`Event "${s}" already registered`);return this._event_handlers[s]=n}getEventHandler(e,t){let n;if(n=void 0===t?e:`${e}(${t})`,void 0===this._event_handlers[n])throw new Error(`Event "${t}" is not registered`);return this._event_handlers[n]}_setWidget(e){void 0===e._widgets&&(e._widgets={}),e._widgets[this.constructor.name]=this}getWidget(e){if("object"==typeof e._widgets)return e._widgets[this.constructor.name]}_removeWidget(e){"object"==typeof e._widgets&&delete e._widgets[this.constructor.name]}init(e){this.getWidget(e)?console.debug("The widget is already inialized on this element"):(this._setWidget(e),this._init(e))}_init(e){}destroy(e){this.getWidget(e)&&(this._removeWidget(e),this._destroy(e))}_destroy(e){}initAll(e,t=document.body){const n=this;t.matches(e)&&n.init(t),t.querySelectorAll(e).forEach((function(e){n.init(e)}))}destroyAll(e,t=document.body){const n=this;t.matches(e)&&n.destroy(t),t.querySelectorAll(e).forEach((function(e){n.destroy(e)}))}observe(e){const t=this.addEventHandler("dom_mutate",e,function(t){this.initAll(e,t)}.bind(this));s.Z.dom.on("mutate",t);const n=this.addEventHandler("dom_release",e,function(t){this.destroyAll(e,t)}.bind(this));s.Z.dom.on("release",n)}unobserve(e){s.Z.dom.off("mutate",this.getEventHandler("dom_mutate",e)),s.Z.dom.off("release",this.getEventHandler("dom_release",e))}}},1886:function(){function e(e){const t=e.target.closest(".url-field");if(t){const e=t.querySelector("input"),n=t.querySelector(".url-field__link");if(n){const t=e.value.trim();t?n.href=t:n.removeAttribute("href")}}}document.addEventListener("input",e),document.addEventListener("change",e)},4654:function(){}},function(e){e.O(0,[201,8265,8612,4879,2777,6737,617,9312,6148,9595,4413,9887,9402,2472,2928,9316,6697,7637,1553,7223,6360,3206,2606,9144,9827,3054,1746,267,1404,8101,8170,3891,331,9565,9252,440,6112,1152,6122,5974,606,9357,3603,7861,6200,6075],(function(){return t=8542,e(e.s=t);var t}));var t=e.O(),n=window;for(var s in t)n[s]=t[s];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})}]);
//# sourceMappingURL=app.bb7b9e1eb756a93e6b23.js.map