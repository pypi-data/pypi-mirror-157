(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[48536],{53001:(e,t,r)=>{"use strict";r.d(t,{xT:()=>n,H_:()=>o,Wv:()=>a,gC:()=>u,dG:()=>i,oQ:()=>c,Q2:()=>l,R3:()=>s,Zr:()=>f,Op:()=>p,l$:()=>E,uL:()=>O,zg:()=>m,M3:()=>A,st:()=>d,US:()=>v,$c:()=>R,pW:()=>T,$D:()=>y,ke:()=>g,vw:()=>C,r5:()=>_,X1:()=>S,V3:()=>h,p2:()=>G});var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",u="BACKGROUND_SELECTOR:BACKGROUND_ADDED",i="BACKGROUND_SELECTOR:BACKGROUND_EDITED",c="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",l="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",s="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",f="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",p="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",E="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",O="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",m="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function A(e){return{type:p,backgrounds:e}}function d(e){return{type:n,source:e}}function v(e){return{type:c,modalParams:e}}function R(e){return{type:l,modalParams:e}}function T(e){return{type:u,layerId:e}}function y(e){return{type:i,layerId:e}}function g(e){return{type:a,layerId:e}}function C(e){return{type:m,allow:e}}function _(e,t){return{type:s,thumbnailData:e,id:t}}function S(e){return{type:o,backgroundId:e}}function h(){return{type:E}}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:O,show:e,layerTitle:t,layerId:r}}},931273:(e,t,r)=>{"use strict";r.d(t,{WX:()=>c,r7:()=>l,V3:()=>s,HR:()=>f,xi:()=>p,ur:()=>E,vK:()=>O,nm:()=>m,QF:()=>A,zZ:()=>d,uN:()=>v,Bz:()=>R,im:()=>T,CO:()=>y,$X:()=>g,Mt:()=>C,Oq:()=>_,YO:()=>S,PR:()=>h,wI:()=>G,bv:()=>I,mh:()=>L,$Y:()=>D,eA:()=>P,UT:()=>N,cS:()=>w,l3:()=>b,Kz:()=>x,vg:()=>M,xM:()=>U,do:()=>F,lb:()=>B,yu:()=>K,tt:()=>j,nX:()=>Y,BG:()=>H,Rc:()=>W,K4:()=>k,Dw:()=>q,dL:()=>V,In:()=>X,r1:()=>Z,XW:()=>$,L8:()=>Q,i3:()=>z,XM:()=>J,X7:()=>ee,M3:()=>te,N3:()=>re,SU:()=>ne,wo:()=>oe,ye:()=>ae,m:()=>ue,wl:()=>ie,bu:()=>ce,A4:()=>le,vG:()=>se,ky:()=>fe,Wf:()=>pe,Ts:()=>Ee,IT:()=>Oe,XS:()=>me,tx:()=>Ae,We:()=>de,nx:()=>ve,E9:()=>Re,zX:()=>Te});var n=r(659551),o=r(501157),a=r(603475),u=r(932354),i=r(197395),c=(n.ZP,o.ZP,a.Z,u.Z,"CATALOG:ADD_LAYERS_FROM_CATALOGS"),l="CATALOG:ADD_LAYER_AND_DESCRIBE",s="CATALOG:TEXT_SEARCH",f="CATALOG:RECORD_LIST_LOADED",p="CATALOG:RESET_CATALOG",E="CATALOG:CATALOG_CLOSE",O="CATALOG:RECORD_LIST_LOAD_ERROR",m="CATALOG:CHANGE_CATALOG_FORMAT",A="CATALOG:ADD_LAYER_ERROR",d="CATALOG:CHANGE_SELECTED_SERVICE",v="CATALOG:CHANGE_CATALOG_MODE",R="CATALOG:CHANGE_METADATA_TEMPLATE",T="CATALOG:CHANGE_TITLE",y="CATALOG:CHANGE_TEXT",g="CATALOG:CHANGE_TYPE",C="CATALOG:CHANGE_SERVICE_PROPERTY",_="CATALOG:CHANGE_SERVICE_FORMAT",S="CATALOG:FOCUS_SERVICES_LIST",h="CATALOG:CHANGE_URL",G="CATALOG:ADD_CATALOG_SERVICE",I="CATALOG:DELETE_CATALOG_SERVICE",L="CATALOG:ADD_SERVICE",D="CATALOG:DELETE_SERVICE",P="CATALOG:SAVING_SERVICE",N="CATALOG:GET_METADATA_RECORD_BY_ID",w="CATALOG:SET_LOADING",b="CATALOG:TOGGLE_TEMPLATE",x="CATALOG:TOGGLE_THUMBNAIL",M="CATALOG:TOGGLE_ADVANCED_SETTINGS",U="CATALOG:FORMAT_OPTIONS_FETCH",F="CATALOG:FORMAT_OPTIONS_LOADING",B="CATALOG:SET_FORMAT_OPTIONS",K="CATALOG:NEW_SERVICE_STATUS";function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,a=e.text,u=e.options,i=void 0===u?{}:u;return{type:s,format:t,url:r,startPosition:n,maxRecords:o,text:a,options:i}}function Y(e,t){return{type:f,searchOptions:e,result:t}}function H(e){return{type:m,format:e}}function W(e){return{type:P,status:e}}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:w,loading:e}}function q(e){return{type:d,service:e}}function V(e){return{type:S,status:e}}function X(e,t){return{type:v,mode:e,isNew:t}}function Z(e){return{type:T,title:e}}function $(e){return{type:y,text:e}}function Q(e,t){return{type:C,property:e,value:t}}function z(e){return{type:_,format:e}}function J(e){return{type:g,newType:e}}function ee(e){return{type:h,url:e}}function te(){return{type:L}}function re(e){return{type:G,service:e}}function ne(e){return{type:I,service:e}}function oe(){return{type:D}}function ae(){return{type:p}}function ue(e){return{type:O,error:e}}function ie(){return{type:E}}function ce(e,t){return{type:"CATALOG:DESCRIBE_ERROR",layer:e,error:t}}var le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.zoomToLayer,n=void 0!==r&&r;return{type:l,layer:e,zoomToLayer:n}};function se(e){return{type:A,error:e}}function fe(e){return{type:N,metadataOptions:e}}var pe=function(e){return{type:R,metadataTemplate:e}},Ee=function(){return{type:M}},Oe=function(){return{type:b}},me=function(){return{type:x}},Ae=function(e){return{type:U,url:e}},de=function(e){return{type:F,loading:e}},ve=function(e,t){return{type:B,formats:e,url:t}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}var Te=function(e){return{type:K,status:e}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>a,Ih:()=>u,Xw:()=>i,Pn:()=>c,DZ:()=>l,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>E,pb:()=>O,qb:()=>m,Re:()=>A,ih:()=>d,xy:()=>v,jL:()=>R,oz:()=>T,ph:()=>y,lF:()=>g,gG:()=>C,cb:()=>_,GI:()=>S,B1:()=>h,fv:()=>G,gc:()=>I,zX:()=>L,ZF:()=>D,Zb:()=>P,DW:()=>N,Xp:()=>w,Fm:()=>b,sV:()=>x,Mn:()=>M,LU:()=>U,XP:()=>F,WU:()=>B,JB:()=>K,g:()=>j,ws:()=>Y,HP:()=>H,aN:()=>W,Pg:()=>q,u0:()=>V,TM:()=>X,PM:()=>Z,lK:()=>$,sv:()=>Q,MO:()=>z,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ae,Y$:()=>ue,Qu:()=>ie,kT:()=>ce});var n=r(647310),o="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",i="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",E="SHOW_REVERSE_GEOCODE",O="HIDE_REVERSE_GEOCODE",m="GET_VECTOR_INFO",A="NO_QUERYABLE_LAYERS",d="CLEAR_WARNING",v="FEATURE_INFO_CLICK",R="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",T="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",y="TOGGLE_MAPINFO_STATE",g="UPDATE_CENTER_TO_MARKER",C="IDENTIFY:CHANGE_PAGE",_="IDENTIFY:CLOSE_IDENTIFY",S="IDENTIFY:CHANGE_FORMAT",h="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",G="IDENTIFY:EDIT_LAYER_FEATURES",I="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",L="IDENTIFY:SET_MAP_TRIGGER",D="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",P="IDENTIFY:SET_SHOW_IN_MAP_POPUP",N="IDENTIFY:IDENTIFY_IS_MOUNTED",w="IDENTIFY:INIT_PLUGIN";function b(e,t,r,n,a){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:a}}function x(e,t,r,n){return{type:a,error:t,reqId:e,requestParams:r,layerMetadata:n}}function M(e,t,r,n){return{type:u,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function U(){return{type:A}}function F(){return{type:d}}function B(e,t){return{type:c,reqId:e,request:t}}function K(e,t,r,n){return{type:m,layer:e,request:t,metadata:r,queryableLayers:n}}function j(){return{type:l}}function Y(e){return{type:s,infoFormat:e}}function H(){return{type:f}}function W(){return{type:p}}function k(e){return{type:E,reverseGeocodeData:e.data}}function q(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(k(e))})).catch((function(e){t(k(e))}))}}function V(){return{type:O}}function X(){return{type:y}}function Z(e){return{type:g,status:e}}function $(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function Q(e){return{type:R,point:e}}function z(e){return{type:T,enabled:e}}function J(e){return{type:C,index:e}}var ee=function(){return{type:_}},te=function(e){return{type:S,format:e}},re=function(e){return{type:h,showCoordinateEditor:e}},ne=function(e){return{type:G,layer:e}},oe=function(e){return{type:I,query:e}},ae=function(e){return{type:L,trigger:e}},ue=function(e){return{type:P,value:e}},ie=function(e){return{type:N,isMounted:e}},ce=function(e){return{type:w,cfg:e}}},659551:(e,t,r)=>{"use strict";r.d(t,{_b:()=>N,kv:()=>F,ZP:()=>j});var n=r(472500),o=r.n(n),a=r(227361),u=r.n(a),i=r(91175),c=r.n(i),l=r(610928),s=r.n(l),f=r(941106),p=r.n(f),E=r(414293),O=r.n(E),m=r(984596),A=r.n(m),d=r(727418),v=r.n(d),R=r(375875),T=r.n(R),y=r(737275),g=r(986267),C=r(501157);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){var t=o().parse(e,!0);return o().format(v()({},t,{search:null},{query:v()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},D="<ogc:Or>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>http://purl.org/dc/dcmitype/Dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n       </ogc:Or>",P="<ogc:PropertyIsLike wildCard='%' singleChar='_' escapeChar='\\'><ogc:PropertyName>csw:AnyText</ogc:PropertyName> <ogc:Literal>%${searchText}%</ogc:Literal> </ogc:PropertyIsLike> ",N='<csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dct="http://purl.org/dc/terms/" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:ows="http://www.opengis.net/ows" service="CSW" version="2.0.2" resultType="results" startPosition="${startPosition}" maxRecords="${maxRecords}"> <csw:Query typeNames="csw:Record"> <csw:ElementSetName>full</csw:ElementSetName> <csw:Constraint version="1.1.0"> <ogc:Filter> ${filterXml} </ogc:Filter> </csw:Constraint> </csw:Query> </csw:GetRecords>',w=function(e){var t=new Map(Array.from(new URLSearchParams(e.value)).map((function(e){var t=G(e,2),r=t[0],n=t[1];return[r.toLowerCase(),n]}))),r=t.get("layers"),n=t.get("version");return!!r&&S(S({},e),{},{protocol:"OGC:WMS",name:r,value:"".concat(e.value.match(/[^\?]+[\?]+/g),"SERVICE=WMS").concat(n&&"&VERSION=".concat(n))})},b=function(e,t,r){if(!t.name)return null;switch(e){case"wms":var n=0!==t.value.indexOf("http")?(r&&r.catalogURL||"")+"/"+t.value:t.value;return{type:t.protocol||t.scheme,url:n,SRS:[],params:{name:t.name}};case"arcgis":return{type:"arcgis",url:t.value,SRS:[],params:{name:t.name}};default:return null}},x=[/^OGC:WMS-(.*)-http-get-map/g,/^OGC:WMS/g],M=/serviceType\/ogc\/wms/g,U=x.concat(M),F=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=(null==e?void 0:e.URI)&&A()(e.URI);if(a){var u=c()(a.map((function(e){if(e.protocol){if(x.some((function(t){return e.protocol.match(t)})))return e;if(e.protocol.match(M))return w(e)}return!1})).filter((function(e){return e})));if(u)return b("wms",u,t)}if(null!=e&&null!==(r=e.references)&&void 0!==r&&r.length){var i=A()(e.references),l=c()(i.filter((function(e){return e.scheme&&x.some((function(t){return e.scheme.match(t)}))})));if(l){var s=o().parse(l.value,!0),f=s.query&&s.query.layers||e.alternative;return b("wms",S(S({},l),{},{name:f}),t)}if(n){var p=c()(i.filter((function(e){return e.scheme&&"WWW:DOWNLOAD-REST_MAP"===e.scheme})));if(p)return b("arcgis",S(S({},p),{},{name:e.alternative}),t)}}return null},B={},K={parseUrl:L,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(99942),r.e(66372)]).then(function(){t(T().get(e).then((function(e){if(e){var t=r(566372).unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},a=0;a<n.length;a++){var u=n[a],i=u.name.localPart,c={};c="references"===i&&u.value?{value:u.value.content&&(0,y.$F)(u.value.content[0])||u.value.content||u.value,scheme:u.value.scheme}:u.value.content&&u.value.content[0]||u.value.content||u.value,o[i]&&Array.isArray(o[i])?o[i].push(c):o[i]?o[i]=[o[i],c]:o[i]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,n,o,a){return new Promise((function(i){Promise.all([r.e(99942),r.e(1269)]).then(function(){var l=r(566372),f=l.CSW,E=l.marshaller,m=l.unmarshaller,A=E.marshalString({name:"csw:GetRecords",value:f.getRecords(t,n,"string"!=typeof o&&o)});o&&"string"!=typeof o||(A=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).filter,o=(null==n?void 0:n.staticFilter)||D,a="<ogc:And>\n        ".concat(p()((null==n?void 0:n.dynamicFilter)||P)({searchText:r}),"\n        ").concat(o,"\n    </ogc:And>");return p()(N)({filterXml:r?a:o,startPosition:e,maxRecords:t})}(t,n,o,a)),i(T().post(L(e),A,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=m.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r,n=t.value,o=n.searchResults.abstractRecord||n.searchResults.any,a={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},i=[];if(o)for(var l=0;l<o.length;l++){var f=o[l].value,p={dateStamp:f.dateStamp&&f.dateStamp.date,fileIdentifier:f.fileIdentifier&&f.fileIdentifier.characterString&&f.fileIdentifier.characterString.value,identificationInfo:f.abstractMDIdentification&&f.abstractMDIdentification.value};if(f.boundingBox){var E,A=void 0;if((E=Array.isArray(f.boundingBox)?c()(f.boundingBox):f.boundingBox)&&E.value){var d,v,R,T,_=null!==(d=null===(v=E.value)||void 0===v?void 0:v.crs)&&void 0!==d?d:"",h=null===(R=_.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===R?void 0:R[0],I=(0,g.makeNumericEPSG)(null===(T=_.match(/EPSG:[0-9]+/))||void 0===T?void 0:T[0]),L=E.value.lowerCorner,D=E.value.upperCorner,P=I||(0,g.extractCrsFromURN)(h)||s()(_.split(":"));"EPSG:4326"===(P?"EPSG:"===P.slice(0,5)?(0,g.makeNumericEPSG)(P):(0,g.makeNumericEPSG)("EPSG:".concat(P)):"EPSG:4326")&&"CRS84"!==P&&"OGC:CRS84"!==P&&(L=[L[1],L[0]],D=[D[1],D[0]]),A=(0,g.makeBboxFromOWS)(L,D)}p.boundingBox={extent:A,crs:"EPSG:4326"}}var N=f.dcElement;if(N){for(var w={references:[]},b=0;b<N.length;b++){var x=N[b],M=x.name.localPart,K={};K="references"===M&&x.value?{value:x.value.content&&(0,y.$F)(x.value.content[0])||x.value.content||x.value,scheme:x.value.scheme}:x.value.content&&x.value.content[0]||x.value.content||x.value,w[M]&&Array.isArray(w[M])?w[M].push(K):w[M]?w[M]=[w[M],K]:w[M]=K}var j=w.references.length>0?w.references:w.URI;r=r?r.concat(j):j,p.dc=w}i.push(p)}return a.records=i,function(e,t){var r=((null==e?void 0:e.find((function(e){return U.some((function(t){var r,n;return(null==e||null===(r=e.scheme)||void 0===r?void 0:r.match(t))||(null==e||null===(n=e.protocol)||void 0===n?void 0:n.match(t))}))})))||{}).value,n=G(r&&r.split("?")||[],1)[0];if(!n)return S({},t);var o=B[n],a=o&&(new Date).getTime()<o.timestamp+1e3*((0,y.u8)("cacheExpire")||60);return Promise.resolve(a?o.data:C.ZP.getCapabilities(n+"?version=").then((function(e){return u()(e,"capability.layer.layer",[])})).catch((function(){return[]}))).then((function(e){var r;return a||(B[n]={timestamp:(new Date).getTime(),data:e}),S(S({},t),{},{records:null==t||null===(r=t.records)||void 0===r?void 0:r.map((function(t){var r=u()(F(null==t?void 0:t.dc,null,!1),"params.name",""),n=e.find((function(e){return e.name===r}))||{},o=n.minScaleDenominator,a=n.maxScaleDenominator;return S(S({},t),(!O()(o)||!O()(a))&&{capabilities:{MaxScaleDenominator:a,MinScaleDenominator:o}})}))})}))}(r,a)}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,r,n,o){return new Promise((function(a){a(K.getRecords(e,t,r,n,o))}))},workspaceSearch:function(e,t,n,o,a){return new Promise((function(u){Promise.all([r.e(99942),r.e(1269)]).then(function(){var i=r(484454).Filter,c=a||"%",l=o&&"%"+o+"%"||"%",s=i.propertyIsLike("dc:identifier",c+":"+l),f=i.filter(s);u(K.getRecords(e,t,n,f))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};const j=K},603475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(375875),o=r.n(n),a=r(737275),u=r(472500),i=r.n(u),c=r(727418),l=r.n(c),s=r(505055),f=r.n(s),p=r(984596),E=r.n(p),O=r(986267),m=r(707294),A={},d=function(e){var t=i().parse(e,!0);return i().format(l()({},t,{search:null},{query:l()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},v=function(e,t,r,n,o){for(var a=e.Capabilities.Contents,u=(0,m.G6)(e),i=(0,m.s5)(e),c=a.TileMatrixSet&&E()(a.TileMatrixSet)||[],s=[],f=c.length,p=0;p<f;p++)s.push((0,O.getEPSGCode)(c[p]["ows:SupportedCRS"]));var A=a.Layer,d=E()(A).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:d.length,numberOfRecordsReturned:Math.min(r,d.length),nextRecord:t+Math.min(r,d.length)+1,records:d.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return l()({},e,{SRS:s,TileMatrixSet:c,queryable:!!(0,m.b4)(u,"GetFeatureInfo","KVP"),requestEncoding:i,style:(0,m.EN)(e),format:(0,m.JY)(e),GetTileURL:(0,m.b4)(u,"GetTile",i),capabilitiesURL:o})}))}},R={parseUrl:d,getRecords:function(e,t,r,n){var u=A[e];return u&&(new Date).getTime()<u.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(o){o(v(u.data,t,r,n,e))})):o().get(d(e)).then((function(o){var a;return f().parseString(o.data,{explicitArray:!1},(function(e,t){a=t})),A[e]={timestamp:(new Date).getTime(),data:a},v(a,t,r,n,e)}))},getCapabilities:function(e){var t=A[e];return t&&(new Date).getTime()<t.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o().get(d(e)).then((function(t){var r;return f().parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),A[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return R.getRecords(e,t,r,n)},reset:function(){Object.keys(A).forEach((function(e){delete A[e]}))}};const T=R},932354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(227361),o=r.n(n),a=r(737275),u=function(e,t,r,n){var u=o()(a.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!n||e.title.indexOf(n)>-1})),i=u.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:u.length,numberOfRecordsReturned:i.length,records:i,service:{Name:"Background Provider"}})}))};const i={getRecords:u,reset:function(){},textSearch:function(e,t,r,n){return u(0,t,r,n)}}},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(86638),o=r(675263),a=r.n(o),u=r(984596),i=r.n(u),c=r(701469),l=r.n(c),s=r(414293),f=r.n(s),p=r(747037),E=r.n(p),O=r(867076),m=["messages"];function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(l()(t))return t.map((function(o){var a=(0,n.S$)(e,o[r]||E()(o)&&o||"");return v(v({},o),{},R({},r,f()(a)?t:a))}));var o=(0,n.S$)(e,t);return f()(o)?t:o},y=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return v(v({},n),{},R({},o,e[o]&&T(t,e[o],r)))}};const g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,O.compose)((0,O.getContext)({messages:a().object}),(0,O.mapProps)((function(r){var n=r.messages,o=A(r,m);return v(v({},o),i()(e).reduce(y(o,n,t),{}))})))}}}]);