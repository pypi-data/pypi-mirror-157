import{c as H,g as le}from"./common/_commonjsHelpers-b3efd043.js";import{c as ce}from"./common/index-871e0391.js";import{r as Y}from"./common/index-655cebff.js";import{p as fe}from"./common/index-55e7d60e.js";var J=function(){if(typeof Map!="undefined")return Map;function t(e,n){var r=-1;return e.some(function(o,a){return o[0]===n?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,a=this.__entries__;o<a.length;o++){var m=a[o];n.call(r,m[1],m[0])}},e}()}(),W=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,L=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),de=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(L):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),he=2;function ve(t,e){var n=!1,r=!1,o=0;function a(){n&&(n=!1,t()),r&&y()}function m(){de(a)}function y(){var w=Date.now();if(n){if(w-o<he)return;r=!0}else n=!0,r=!1,setTimeout(m,e);o=w}return y}var pe=20,me=["top","right","bottom","left","width","height","size","weight"],be=typeof MutationObserver!="undefined",_e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ve(this.refresh.bind(this),pe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!W||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),be?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!W||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=me.some(function(a){return!!~r.indexOf(a)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Q=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},S=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||L},X=j(0,0,0,0);function F(t){return parseFloat(t)||0}function Z(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var a=t["border-"+o+"-width"];return r+F(a)},0)}function ge(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var a=o[r],m=t["padding-"+a];n[a]=F(m)}return n}function ye(t){var e=t.getBBox();return j(0,0,e.width,e.height)}function we(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return X;var r=S(t).getComputedStyle(t),o=ge(r),a=o.left+o.right,m=o.top+o.bottom,y=F(r.width),w=F(r.height);if(r.boxSizing==="border-box"&&(Math.round(y+a)!==e&&(y-=Z(r,"left","right")+a),Math.round(w+m)!==n&&(w-=Z(r,"top","bottom")+m)),!Oe(t)){var D=Math.round(y+a)-e,P=Math.round(w+m)-n;Math.abs(D)!==1&&(y-=D),Math.abs(P)!==1&&(w-=P)}return j(o.left,o.top,y,w)}var Ee=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof S(t).SVGGraphicsElement}:function(t){return t instanceof S(t).SVGElement&&typeof t.getBBox=="function"}}();function Oe(t){return t===S(t).document.documentElement}function Me(t){return W?Ee(t)?ye(t):we(t):X}function xe(t){var e=t.x,n=t.y,r=t.width,o=t.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,m=Object.create(a.prototype);return Q(m,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),m}function j(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Re=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=j(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Me(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Se=function(){function t(e,n){var r=xe(n);Q(this,{target:e,contentRect:r})}return t}(),De=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new J,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof S(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Re(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof S(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Se(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ee=typeof WeakMap!="undefined"?new WeakMap:new J,te=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_e.getInstance(),r=new De(e,n,this);ee.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){te.prototype[t]=function(){var e;return(e=ee.get(this))[t].apply(e,arguments)}});var Pe=function(){return typeof L.ResizeObserver!="undefined"?L.ResizeObserver:te}(),V=H(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=n,e.clamp=r;function n(o){return o.charAt(0).toUpperCase()+o.substr(1)}function r(o,a,m){return Math.min(Math.max(o,a),m)}}),ze=H(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function f(l,E){for(var g=0;g<E.length;g++){var i=E[g];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,E,g){return E&&f(l.prototype,E),g&&f(l,g),l}}(),r=y(ce),o=y(Y),a=y(fe),m=y(Pe);function y(f){return f&&f.__esModule?f:{default:f}}function w(f,l,E){return l in f?Object.defineProperty(f,l,{value:E,enumerable:!0,configurable:!0,writable:!0}):f[l]=E,f}function D(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function P(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:f}function ne(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}var M={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},k=function(f){ne(l,f);function l(E,g){D(this,l);var i=P(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E,g));return i.handleFormat=function(u){var s=i.props.format;return s?s(u):u},i.handleUpdate=function(){if(!!i.slider){var u=i.props.orientation,s=(0,V.capitalize)(M.orientation[u].dimension),c=i.slider["offset"+s],d=i.handle["offset"+s];i.setState({limit:c-d,grab:d/2})}},i.handleStart=function(u){var s=i.props.onChangeStart;document.addEventListener("mousemove",i.handleDrag),document.addEventListener("mouseup",i.handleEnd),i.setState({active:!0},function(){s&&s(u)})},i.handleDrag=function(u){u.stopPropagation();var s=i.props.onChange,c=u.target,d=c.className,h=c.classList,p=c.dataset;if(!(!s||d==="rangeslider__labels")){var v=i.position(u);h&&h.contains("rangeslider__label-item")&&p.value&&(v=parseFloat(p.value)),s&&s(v,u)}},i.handleEnd=function(u){var s=i.props.onChangeComplete;i.setState({active:!1},function(){s&&s(u)}),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleEnd)},i.handleKeyDown=function(u){u.preventDefault();var s=u.keyCode,c=i.props,d=c.value,h=c.min,p=c.max,v=c.step,b=c.onChange,_=void 0;switch(s){case 38:case 39:_=d+v>p?p:d+v,b&&b(_,u);break;case 37:case 40:_=d-v<h?h:d-v,b&&b(_,u);break}},i.getPositionFromValue=function(u){var s=i.state.limit,c=i.props,d=c.min,h=c.max,p=h-d,v=u-d,b=v/p,_=Math.round(b*s);return _},i.getValueFromPosition=function(u){var s=i.state.limit,c=i.props,d=c.orientation,h=c.min,p=c.max,v=c.step,b=(0,V.clamp)(u,0,s)/(s||1),_=v*Math.round(b*(p-h)/v),R=d==="horizontal"?_+h:p-_;return(0,V.clamp)(R,h,p)},i.position=function(u){var s=i.state.grab,c=i.props,d=c.orientation,h=c.reverse,p=i.slider,v=M.orientation[d].coordinate,b=h?M.orientation[d].reverseDirection:M.orientation[d].direction,_="client"+(0,V.capitalize)(v),R=u.touches?u.touches[0][_]:u[_],z=p.getBoundingClientRect()[b],T=h?z-R-s:R-z-s,N=i.getValueFromPosition(T);return N},i.coordinates=function(u){var s=i.state,c=s.limit,d=s.grab,h=i.props.orientation,p=i.getValueFromPosition(u),v=i.getPositionFromValue(p),b=h==="horizontal"?v+d:v,_=h==="horizontal"?b:c-b;return{fill:_,handle:b,label:b}},i.renderLabels=function(u){return o.default.createElement("ul",{ref:function(c){i.labels=c},className:(0,r.default)("rangeslider__labels")},u)},i.state={active:!1,limit:0,grab:0},i}return n(l,[{key:"componentDidMount",value:function(){this.handleUpdate();var g=new m.default(this.handleUpdate);g.observe(this.slider)}},{key:"render",value:function(){var g=this,i=this.props,u=i.value,s=i.orientation,c=i.className,d=i.tooltip,h=i.reverse,p=i.labels,v=i.min,b=i.max,_=i.handleLabel,R=this.state.active,z=M.orientation[s].dimension,T=h?M.orientation[s].reverseDirection:M.orientation[s].direction,N=this.getPositionFromValue(u),$=this.coordinates(N),re=w({},z,$.fill+"px"),ie=w({},T,$.handle+"px"),oe=d&&R,B=[],C=Object.keys(p);if(C.length>0){C=C.sort(function(x,O){return h?x-O:O-x});var G=!0,I=!1,K=void 0;try{for(var q=C[Symbol.iterator](),U;!(G=(U=q.next()).done);G=!0){var A=U.value,ae=this.getPositionFromValue(A),se=this.coordinates(ae),ue=w({},T,se.label+"px");B.push(o.default.createElement("li",{key:A,className:(0,r.default)("rangeslider__label-item"),"data-value":A,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:ue},this.props.labels[A]))}}catch(x){I=!0,K=x}finally{try{!G&&q.return&&q.return()}finally{if(I)throw K}}}return o.default.createElement("div",{ref:function(O){g.slider=O},className:(0,r.default)("rangeslider","rangeslider-"+s,{"rangeslider-reverse":h},c),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,"aria-valuemin":v,"aria-valuemax":b,"aria-valuenow":u,"aria-orientation":s},o.default.createElement("div",{className:"rangeslider__fill",style:re}),o.default.createElement("div",{ref:function(O){g.handle=O},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:ie,tabIndex:0},oe?o.default.createElement("div",{ref:function(O){g.tooltip=O},className:"rangeslider__handle-tooltip"},o.default.createElement("span",null,this.handleFormat(u))):null,o.default.createElement("div",{className:"rangeslider__handle-label"},_)),p?this.renderLabels(B):null)}}]),l}(Y.Component);k.propTypes={min:a.default.number,max:a.default.number,step:a.default.number,value:a.default.number,orientation:a.default.string,tooltip:a.default.bool,reverse:a.default.bool,labels:a.default.object,handleLabel:a.default.string,format:a.default.func,onChangeStart:a.default.func,onChange:a.default.func,onChangeComplete:a.default.func},k.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},e.default=k}),Te=H(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=r(ze);function r(o){return o&&o.__esModule?o:{default:o}}e.default=n.default}),Ce=le(Te);export default Ce;
