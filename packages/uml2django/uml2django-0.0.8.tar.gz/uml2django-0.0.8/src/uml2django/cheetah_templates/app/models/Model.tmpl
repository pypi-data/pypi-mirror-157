# Generated by uml2django - 
# https://steelkiwi.com/blog/best-practices-working-django-models-python/
# https://learndjango.com/tutorials/django-best-practices-models
from django.db import models
from django.utils.translation import gettext_lazy as _
from django.urls import reverse
#for $base_model in $model.base_fathers
from ${$base_model.app_name}.models import $base_model.name
#end for

class ${model.name}(
    #if not $model.base_fathers
    models.Model
    #end if
    #for $base_model in $model.base_fathers
    ${base_model.name},
    #end for
):
    #for $field in $model.fields
    ${field.name} = models.${field.field_type}(
        #for $field_option in $field.field_options
        $field_option,
        #end for
    )
    #end for

    #if $model.use_slug
    slug = models.SlugField(null=False, unique=True) 
    #end if

    class Meta:
        verbose_name = _("${model.name_lower}")
        verbose_name_plural = _("${model.name_plural.lower()}")
        #if $model.is_abstract
        abstract = True
        #end if
        #if $model.unique_together_fields
        unique_together = (
            #for $field in $model.unique_together_fields
            '$field',
            #end for
        )
        #end if

    # def __str__(self): 
    #     return self.

    #if not $model.is_abstract
    def get_absolute_url(self):
        return reverse("${model.name_lower}-detail", args=[str(self.id)])
    #end if